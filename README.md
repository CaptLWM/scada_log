# log viewer

### 프로젝트 소개

- 프로그램 테스트 과정에서 로그는 핵심적인 검증 자료였지만, 플랫폼에 따라 실제로 로그를 분석하고 활용하기에는 불편함이 많았다
    - HMI
        - 화면 크기가 작아 다량의 로그를 한번에 확인하기 어려움
        - 장비 성능 제약으로 빠른 탐색 및 스크롤이 불편함
        - 터치 패널 특성상 로그 검색, 선택 등 세밀한 조작이 어려움
    - Web
        - 실시간 모니터링 불가, 검색 요청 시에만 신규 로그 확인 가능
        - 페이지당 볼 수 있는 로그 수가 제한적이며 오름차순만 지원되어 최신 로그 파악이 어려움
- **QA 관점**에서 로그를 활용하기에는 어려운 부분이 많다고 생각했고 더 효율적으로 확인할 수 있도록 로그 조회용 API를 활용해 로그 뷰어를 직접 만들어 보기로 했다

### 기대 효과

- 테스트 과정에서 반복 작업 감소
- 테스트 편의성 향상을 통한 전반적인 업무 효율 개선

## 수행 방식 및 기술 선택

- 개발 조건
    - 업무 중 잔여시간을 활용한 짧은 개발 기간(약 3일)
    - PLC 장비 및 테스트 프로그램, 내부에서만 사용 가능
    - 파이썬에 대한 개발 경험 부족
    
    ⇒ 이러한 문제점을 극복하기 위해 **GPT를 활용한 바이브 코딩 방식**으로 개발을 진행
    
- 기술 스택 : Python, Streamlit
    - Streamlit : 데이터 시각화 및 웹 기반 도구를 빠르게 구성할 수 있는 프레임워크
    - 별도의 복잡한 환경 설정 없이 브라우저에서 바로 확인 가능
    - 자동 새로고침 기능을 제공해 로그의 상시 모니터링에 적합
    
    ⇒ **제한된 개발 환경에서도 비교적 빠르게 구현이 가능**해, 본 프로젝트의 목적에 부합하는 도구라고 판단

## 작업 내용

### 1일차 - API 구조 파악 및 요구사항 분석, 프로토 타입 코드 작성

- 요구사항 정의
    - 실시간에 가까운 로그 확인
    - 불필요한 API 호출로 인한 서버 부하 방지
    - 로그 가시성 개선
    - 개발 지식이 없는 사용자도 실행 가능
    - 동일 네트워크에 연결된 PC, HMI, Web 환경에서 동작 중인 SCADA 프로그램의 로그 확인 가능
- 프로토 타입 구현
    - Streamlit을 사용해 간단한 웹 기반 로그 뷰어 구현
    - IP 입력 → 로그 조회 → 시간 기준 신규 로그 갱신 → 최신 로그 우선 표시 흐름으로 동작하도록 구성
- 확인된 문제점
    - CLI 명령어 기반 실행 방식으로 인해 **파이썬이 설치되지 않은 PC에서는 사용이 불가능**하고, **프롬프트 사용에 익숙하지 않은 사용자에게는 접근성이 떨어진다**는 한계가 있었다.

### 2일차 - 실행 방식 개선 및 문제점 정리

- 주요 변경점
    - 실행 방식 개선
        - CLI 명령어 실행 방식에서 실행 파일 형태로 변경
        - main.py를 추가해 진입점을 명확히 구성하여 pyinstaller 사용해 실행 파일 생성
    - 사용성 개선
        - 로그 조회 대상 서버의 IP주소를 화면에 명확히 표시해 사용자의 혼선을 줄이도록 수정
- 확인된 문제점
    - 페이지네이션 없이 전체 로그를 반복 조회하는 구조
        - 로그 수가 증가할 수록 API 요청 횟수가 급격히 증가
        
        **⇒ 요구사항 중 불필요한 API 과부하 방지 미충족**
        
    - 로그 갱신과 연결 끊김 상황에서 동일한 애니메이션 사용
        - 시각적으로 구분하기 어려움
        
        **⇒ 요구사항 중 로그 가시성 개선 미충족**
        
    - 카테고리·타입별 필터 기능 미구현
        - 불필요한 로그까지 모두 조회하는 구조
        
        **⇒ 요구사항 중 불필요한 API 과부하 방지 미충족**
        
### 3일차 - 구조 개선 및 안정성 확보

- 주요 변경점
    - 페이지네이션 구조 적용
        - 전체 로그 조회 방식에서 페이지네이션 방식으로 복귀
        - 한 페이지당 50개 로그 조회하도록 하여 API 요청 부하 감소
    - 화면 업데이트 방식 개선
        - 로그 갱신과 연결 상태 변경을 분리해 처리
        - 주기적으로 API를 호출하되, 로그 내용이나 조건에 변경이 없는 경우 기존 상태를 유지하도록 구성
        - 이를 통해 불필요한 화면 변경을 줄이고 사용자 인지성 측면을 보완
    - 필터 기능 추가
        - 필요한 로그만 선택적으로 조회 할 수 있도록 개선
- 확인된 문제 및 대응
    - PLC↔SCADA 일시적인 연결 끊김 현상 발생, API는 정상 응답 유지
        - 서버 내부 구현을 수정할 수 없는 환경이기 때문에 요청 주기 조정하여 시스템 안정성 확보
        - REFRESH_SEC 2→10초로 변경

## 프로그램 보안 취약점 발견

- 테스트 편의성 개선을 위해 고민하는 과정에서 API 요청 시 인증, 인증·권한·암호화 등의 보호 장치가 없었음을 확인
- 동일 네트워크 환경에서 접근이 가능했고 이를 통한 로그 조회 기능 구현이 가능했으며, **의도치 않은 정보 노출 가능성도 함께 인지**하게 되었음
- 인증된 API의 반복적 조회만으로 PLC 통신이 불안정해지는 현상(통신 연결의 간헐적 끊김)을 확인 했으며, 이는 외부 조회 트래픽이 시스템 가용성에 영향을 줄 수 있음을 뜻 함
- 이를 통해 보안 통제 필요성을 QA 관점에서 정리했으며, 실제 테스트 및 운영 과정에서 고려해야 할 개선 사항으로 보고함

## 후기

- 이번 작업은 **순수한 바이브 코딩으로 시작해 QA 관점에서 고민하며 완성한 첫 개인 도구**라는 점에서 의미가 있다.
- 그동안 “있으면 좋겠다”라고만 생각하고 실행하지 않았던 과거에 대한 아쉬움과 함께, **직접 구현해 보며 ‘생각을 실행하면 나도 만들 수 있다’는 자신감**을 얻을 수 있었다.
- 테스트 자동화를 구현하지는 않았지만, **QA 엔지니어로서 문제를 정의하고 해결 방법을 고민하는 과정 자체를 경험했다는 점에서 의미 있는 작업**이었다.
- 기본적인 파이썬 지식만을 바탕으로 진행한 작업이라 코드 구조나 완성도 측면에서 아쉬움은 남았지만, **QA는 단순히 테스트를 수행하는 역할이 아니라 품질을 개선하기 위한 도구와 방법을 고민하는 역할**이라는 점을 체감할 수 있었다. 이를 통해 좋은 QA 엔지니어가 되기 위해서는 테스트 기법 자체뿐만이 아니라, **테스트 효율을 고려한 접근과 문제 원인을 다각도로 분석하는 사고 방식의 중요성을 인식**하게 되었다.
- 가장 아쉬운 점은 출시 일정이 임박해 **실제 테스트 업무에 적용해 보지 못했다는 점**이다. 만약 새로운 프로젝트에서 활용할 기회가 있었다면, 실사용을 통해 추가 개선점을 발견하고 이를 바탕으로 **또 다른 자동화나 편의성 도구로 확장해 볼 수 있었을 것**이라 생각한다.
